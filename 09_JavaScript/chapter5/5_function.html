<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=\, initial-scale=1.0">
  <title>Document</title>
  <script>
  // 함수
  // 여러 실행 코드들의 묶음(그룹화)
  // 자주 사용하는 토드를 (기능)을 저장했다가 필요할때 호출해서 사용
  // function 키워드를 사용하여 정의 => ES6차에서는 화살표 함수를 사용

  // 1.함수 선언문: 기명 함수로 정의
  // function 함수명() {
  //   실행코드;
  // }

  //2. 함수 표현식: 익명 함수를 변수에 할당
  // 변수 = function () {
  //   실행코드;
  // };

  // 위와 같이 정의된 함수는 즉시 실행되지 않음.
  // 메모리에 할당되어 있다가 함수가 호출되면 실행
  // 1. 함수명();
  // 2. 변수명();
  function greeting(){
    document.write('Hello<br>');
  }
  greeting();//Hello

  // (참고) 함수선언문과 함수표현식의 차이점
  // 함수 선언문은 호이스팅(끌어올리기)이 일어남
  // 해당 스코프(유효범위)의 최상단으로 끌어올려진 것과 같은 현상
  // 변수나 함수선언이 코드 실행보다 먼저 메모리에 할당(저장)되는 과정

  let count = 0; 
  myfunc();//위에서 호출해도 실행됨 Hello2
  function myfunc() {
    count++;
    document.write(`Hello${count}<br>`);
  }
  // myfunc();//Hello1

  // thefunc(); 호이스팅이 않됨
  // 함수표현식
  const thefunc = function() {
    count++;
    document.write(`bye${count}<br>`);
  }
  thefunc();//bye2


  //버튼을 클릭할때 마다 배경색이 바뀌도록 함수 만들기
  const color = ['yellow' , 'aqua', 'purple' , 'white']
  let index = 0;

  function changeColor() {
    if (index >= color.length){
      index = 0;
    }
    const bodytag = document.querySelector('body');
    bodytag.style.backgroundColor = color[index++];//후위증가
  }

  //매개변수가 있는 함수
  // function 함수명(매개변수1, 매개변수2, ....) {
  //   실행코드;
  // }
  //  함수명(인자값, 인자값2, ...); 변수랑 인자값이랑 하나씩비교함 인자값하나만 써도 실행됨

   function introduce (name, area) { //외부에서 받을 데이터가 있으면 매개변수 선언
    document.write(`안녕하세요. ${name}입니다.<br>`);
    document.write(`사는곳은 ${area}입니다.<br>`);
   }
   introduce('이은숙','만수동'); //인자값(인수,매개값) 넘겨줌
   introduce('이은숙'); //인자값(인수,매개값) 넘겨줌 undefined가 나옴 인자값 수를 맞출 필요는 없음
   introduce('이은숙','만수동','불필요한 데이터'); 

  //  로그인함수 만들기
    const dbId = "goni";
    const dbPw = "1234";

  //잘못된 id 입력
  // 잘못된 pw입력
  //로그인 성공
  //(QUIZ) login함수 만들기


    function login(id,pw) {
      if (dbId === id) {
        if (dbPw === pw) {
          document.write(id + '님 방문을 환영합니다.','<br>');
        } else {
          alert('잘못된 비밀번호입니다..');
        }
      } else {
        alert('존재하지않는 아이디입니다.');
      }
    }

    const userId = prompt('아이디를 입력하세요');
    const userPw = prompt('비밀번호를 입력하세요');
    login(userId,userPw)


  // 함수에서 return 문의 역할
  //데이터를 (결과값) 을 반환
  // 함수를 강제종료
  // function  함수명(){
  //   실행코드;
  //   return 값;
  //   실행코드2 : (실행 x)
  // }

  function sum(num1, num2) {
    return num1 + num2;
  }
   const result = sum (10,20);
   document.write (`두수의 합은 ${result}<br>`);




  // 두 과목의 점수를 입력받아  평균점수를 구하기
  
  function testAvg(arrData) {
    let sum = 0;
    for (let i = 0; i < arrData.length; i++) {
      sum += Number(prompt(arrData[i] + ' 점수는?', '0'));
      //// sum = sum(1) + sum(2); 
    }

    return sum / arrData.length;
  }
  const arrSubject = ['국어', '수학'];
  const resultAvg = testAvg(arrSubject);
  document.write(`평균 점수는 ${resultAvg}점 입니다.<br>`);
  

  //  quiz :이전 다음 버튼 으로 이미지 넘기기 
  //   이미지를 배열로 들어와야됨
    let imgNum = 1;
    function gallery(direct) {
      if (direct) { // 다음
        if (imgNum === 8) return;//함수종료
        imgNum++; 
        
      } else {// 이전
        if (imgNum === 1) return;//함수종료
        imgNum--;
      }
    
    const imgTag = document.querySelector('.photo');
    imgTag.setAttribute('src',`images/pic_${imgNum}.jpg`);
  }

  

  // 재귀함수 호출 (활용도 낮음)
  // 함수안에서 함수를 다시 호출하는것
  // 함수를 반복문자처럼 여러번 호출하기 위해 사용

  // function  함수명(){
  //  실행코드;
  //  함수명();
  // } 
  // 함수명();
  
  //재귀함수 호출을 적용하여 1~10까지; 츨력
  let num = 0;
  function testfunc() {
    num++;
    document.write(num, '<br>');
    if (num === 10) return;

    testfunc();
  }

  testfunc();

  // 스코프(유효범위) 개념
  // 변수 또는 함수의 사용 가능한 유효범위
  // 전역 스코프: 코드의 어느곳에서나 접근가능
  // 블록 스코프: 선언된 블록 내부에서만 접근가능
  // 여기에서 블록은 함수, 조건문, 반복문 등 중괄호({})로 구분되는 모든 영역을 의미

  //전역변수와 지역변수
  let globalNum = 50;// 전역스코프 - 전역 변수
  function testVarScope() {
    let localNum = 200;//블록스코프 - 지역 변수
    document.write(`함수안: ${globalNum} <br>`);//50
    document.write(`함수안: ${localNum} <br>`);//200
  }
  testVarScope();
  document.write(`함수안: ${globalNum} <br>`);
  // document.write(`함수안: ${localNum} <br>`);//안나옴

  //외부(전역)함수와 내부(지역) 함수
  function outerFunc() {//  외부함수
    function innerFunc(){ //내부함수
      document.write(`내부함수<br>`)
    }
    innerFunc();//쓸수있다
  }
  outerFunc()//된다
  // innerFunc();안됨 낫 디파인드

  //현역과 지역을 나누는 이유?
  // 변수명 (아니면 비슷한 기능의 함수명) 충돌을 피하기 위해
  // 예: 방송국에서 전국방송과 지역방송을 나누는 것과 비슷
  // 해당 데이터가 전체에서 쓰인다면 전역변수로,함수 내 또는 제어문 내에서만 쓰이면 지역변수로 선언
  // 지역변수 예:for 문의 초기화 식
  //  for (let i = 0; i < array.length; i++) { 
  //   // i는 블럭안에서만 씌이는 지역변수
  //  }

  // 내장 함수 갔따쓰기만 하면 됨
  // 자바스크립트 엔진에 내장되어 바로 호출 가능한 함수
  
  // 문자열 데이터를 정수형 데이터로 반환
  console.log(parseInt('10.33')); // 10
  console.log(parseInt('15.5px')); // 15
  console.log(parseInt('a40')); // NaN
  console.log(parseInt(true)); // NaN

  // 문자열 데이터를 실수형 데이터로 반환
  console.log(parseFloat('10.33')); // 10.33
  console.log(parseFloat('15.5px')); // 15.5
  console.log(parseFloat('a40')); // NaN
  console.log(parseFloat(true)); // NaN
  
  // 문자형 데이터로 반환
  console.log(String(5)); // '5'
  console.log(String([1, 2, 3, 4])); // '1,2,3,4'
  console.log(String(new Date())); // Sat Jan 07 2023 19:12:03 GMT+0900 (한국 표준시)

  // 숫자형 데이터로 반환(숫자형으로 바꿀수 없으면 NaN을 반환)
  console.log(Number('5')); // 5
  console.log(Number(true)); // 1
  console.log(Number(false)); // 0
  console.log(Number('abc')); // NaN

  // 논리형 데이터로 반환
  // false 값들: false, 0(-0), ''(""), undefined, null, NaN
  console.log(Boolean(5)); // true
  console.log(Boolean(null)); // false
  console.log(Boolean(10 > 9)); // true

  // NaN(Not-a-Number)문자데이터이냐? 값이면 true를 반환 - 자주 쓴다
  console.log(isNaN(5)); // false
  console.log(isNaN(5 - 2)); //false
  console.log(isNaN('123')); // false, 테스트하기 전에 값을 숫자로 변환
  console.log(isNaN('Hello')); // true

  </script>
</head> 
<body>
  <button type="button" onclick="changeColor()">배경색 바꾸기</button>

  <div>
    <p>
      <button type="button" onclick="gallery(0)">이전</button>
      <button type="button" onclick="gallery(1)">다음</button>

    </p>
    <p>
      <img src = "images/pic_1.jpg" alt ="photo" class ="photo">
    </p>
  </div>
  
</body>
</html>